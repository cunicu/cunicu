"use strict";(self.webpackChunkwice=self.webpackChunkwice||[]).push([[9211],{3139:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>f,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var n=s(7462),a=(s(7294),s(3905));s(1839);const i={title:"Hosts-file Synchronization"},o="Hosts-file Synchronization",r={unversionedId:"features/hsync",id:"features/hsync",title:"Hosts-file Synchronization",description:"The hosts-file synchronization updates your local hosts(5) file (/etc/hosts) with entries for each peer.",source:"@site/docs/features/hsync.md",sourceDirName:"features",slug:"/features/hsync",permalink:"/docs/features/hsync",draft:!1,editUrl:"https://github.com/stv0g/cunicu/edit/master/docs/features/hsync.md",tags:[],version:"current",frontMatter:{title:"Hosts-file Synchronization"},sidebar:"tutorialSidebar",previous:{title:"Hooks",permalink:"/docs/features/hooks"},next:{title:"Peer Discovery",permalink:"/docs/features/pdisc"}},l={},c=[{value:"Example",id:"example",level:2}],h={toc:c};function f(e){let{components:t,...s}=e;return(0,a.kt)("wrapper",(0,n.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"hosts-file-synchronization"},"Hosts-file Synchronization"),(0,a.kt)("p",null,"The hosts-file synchronization updates your local ",(0,a.kt)("a",{parentName:"p",href:"https://man7.org/linux/man-pages/man5/hosts.5.html"},"hosts(5)")," file (",(0,a.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),") with entries for each peer."),(0,a.kt)("p",null,"As hostname, cunicu uses the first 8 characters of the Base64-encoded public key as well as an optional hostname.\nThis optional hostname can either be configured by the user in the configuration file or is discovered via the ",(0,a.kt)("a",{parentName:"p",href:"/docs/features/pdisc"},"peer-discovery feature"),"."),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)("p",null,"The following snippet shows the local hosts file of an Ubuntu 20.04 system with two entries added by cunicu.\nAs shown here, all entries managed by cunicu are marked with a comment prefixed with ",(0,a.kt)("inlineCode",{parentName:"p"},"# cunicu:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="/etc/hosts"',title:'"/etc/hosts"'},"127.0.0.1 localhost\n127.0.1.1 ubuntu\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\nfe80::13a9:c799:cead:4f28 buxfBfaN.wg-local fra-1.wg-local # cunicu: ifname=wg0, ifindex=9, pk=buxfBfaNZI8UFT0cB1aj9YanhbLfxlTfd/hH3DrGaFA=\nfe80::1fed:fabb:a9f6:d78 ZEki/XKE.wg-local # cunicu: ifname=wg1, ifindex=10, pk=ZEki/XKEsqdjFyURo5Sm+g3vXSKJKpV5WmwWKAQqo2c=\n")))}f.isMDXComponent=!0}}]);