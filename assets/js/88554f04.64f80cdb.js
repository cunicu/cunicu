(self.webpackChunkcunicu=self.webpackChunkcunicu||[]).push([[9211],{9623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>u});var i=n(87462),s=(n(67294),n(3905)),a=n(68363);const o={},c="Hosts-file Synchronization",r={unversionedId:"features/hsync",id:"features/hsync",title:"Hosts-file Synchronization",description:"The hosts-file synchronization updates your local hosts(5) file (/etc/hosts) with entries for each peer.",source:"@site/docs/features/hsync.md",sourceDirName:"features",slug:"/features/hsync",permalink:"/docs/features/hsync",draft:!1,editUrl:"https://github.com/cunicu/cunicu/edit/main/docs/features/hsync.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Hooks",permalink:"/docs/features/hooks"},next:{title:"Peer Discovery",permalink:"/docs/features/pdisc"}},l={},u=[{value:"Example",id:"example",level:2},{value:"Configuration",id:"configuration",level:2}],f={toc:u},h="wrapper";function p(e){let{components:t,...n}=e;return(0,s.kt)(h,(0,i.Z)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"hosts-file-synchronization"},"Hosts-file Synchronization"),(0,s.kt)("p",null,"The hosts-file synchronization updates your local ",(0,s.kt)("a",{parentName:"p",href:"https://man7.org/linux/man-pages/man5/hosts.5.html"},"hosts(5)")," file (",(0,s.kt)("inlineCode",{parentName:"p"},"/etc/hosts"),") with entries for each peer."),(0,s.kt)("p",null,"As hostname, cunicu uses the first 8 characters of the Base64-encoded public key as well as an optional hostname.\nThis optional hostname can either be configured by the user in the configuration file or is discovered via the ",(0,s.kt)("a",{parentName:"p",href:"/docs/features/pdisc"},"peer-discovery feature"),"."),(0,s.kt)("h2",{id:"example"},"Example"),(0,s.kt)("p",null,"The following snippet shows the local hosts file of an Ubuntu 20.04 system with two entries added by cunicu.\nAs shown here, all entries managed by cunicu are marked with a comment prefixed with ",(0,s.kt)("inlineCode",{parentName:"p"},"# cunicu:")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="/etc/hosts"',title:'"/etc/hosts"'},"127.0.0.1 localhost\n127.0.1.1 ubuntu\n\n# The following lines are desirable for IPv6 capable hosts\n::1     ip6-localhost ip6-loopback\nfe00::0 ip6-localnet\nff00::0 ip6-mcastprefix\nff02::1 ip6-allnodes\nff02::2 ip6-allrouters\n\nfe80::13a9:c799:cead:4f28 buxfBfaN.wg-local fra-1.wg-local # cunicu: ifname=wg0, ifindex=9, pk=buxfBfaNZI8UFT0cB1aj9YanhbLfxlTfd/hH3DrGaFA=\nfe80::1fed:fabb:a9f6:d78 ZEki/XKE.wg-local # cunicu: ifname=wg1, ifindex=10, pk=ZEki/XKEsqdjFyURo5Sm+g3vXSKJKpV5WmwWKAQqo2c=\n")),(0,s.kt)("h2",{id:"configuration"},"Configuration"),(0,s.kt)("p",null,"The following settings can be used in the main section of the ",(0,s.kt)("a",{parentName:"p",href:"../config/"},"configuration file")," or with-in the ",(0,s.kt)("inlineCode",{parentName:"p"},"interfaces")," section to customize settings of an individual interface."),(0,s.kt)(a.Z,{pointer:"#/components/schemas/HostsSyncSettings",mdxType:"ApiSchema"}))}p.isMDXComponent=!0},26242:()=>{},11314:()=>{},67251:()=>{},99018:()=>{},43044:()=>{},3408:()=>{},35126:()=>{}}]);